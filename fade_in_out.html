<!DOCTYPE html> <html> <head> <meta charset="UTF-8"> <title>IFE ECMAScript</title> </head> <body> <div id="fade-obj" style="width:300px;height:300px;background:#000"></div> <button id="fade-btn">淡出</button> <script>
    var fadeObj=document.getElementById("fade-obj");
    var fadeBtn=document.getElementById("fade-btn");
    var i=1;

    function fadeout(){
        fadeObj.style.opacity=i;
        i-=0.1;
        fadeBtn.disable=true;
        if(i>0){
            setTimeout(fadeout,100);
            console.log(i);
        }
        else if(i<=0){
            fadeBtn.innerHTML="淡入";
            fadeBtn.disable=false;
            fadeBtn.addEventListener("click",fadein);
        }
    }

    function fadein(){
        fadeObj.style.opacity=i;
        i+=0.1;
        fadeBtn.disable=true;
        if(i<1){
            setTimeout(fadein,100);
            console.log(i);
        }
        else if(i>=1){
            fadeBtn.innerHTML="淡出";
            fadeBtn.disable=false;
            fadeBtn.addEventListener("click",fadeout);
        }
    }
    fadeBtn.addEventListener("click",fadeout);
    </script> </body> </html>
